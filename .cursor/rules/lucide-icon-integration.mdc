---
description: Lucide icon library integration and tree-shaking best practices
globs: *.js,*.html
---

# Lucide Icon Integration

## Critical Rule
- **Place `createIcons()` outside conditional blocks** in [script.js](mdc:script.js)
- **Use tree-shaking**: `import { createIcons, Facebook, Instagram } from 'lucide'`
- **Single initialization point**: Main script handles all icons

## Common Mistake
❌ **Wrong**: Icons inside countdown conditional (only runs if countdown exists)
```javascript
if (countdownEl) {
    createIcons({ icons: { Facebook, Instagram } }); // ← Only runs if countdown exists!
}
```

✅ **Correct**: Icons at top level
```javascript
// Initialize Lucide icons (must be outside any conditional blocks)
createIcons({
    icons: {
        Facebook,
        Instagram
    }
});
```

## HTML Structure
- Use `data-lucide="icon-name"` attributes in HTML
- Ensure `<i>` elements are present in DOM before calling `createIcons()`
- Icons work through DOM scanning, so HTML structure must be correct

## For detailed patterns**: See [docs/02-architecture-design.md](mdc:docs/02-architecture-design.md#icon-integration)